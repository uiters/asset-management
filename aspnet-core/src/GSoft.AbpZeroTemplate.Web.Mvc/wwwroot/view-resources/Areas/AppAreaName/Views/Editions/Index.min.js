(function(){$(function(){function e(t){abp.message.confirm(app.localize("EditionDeleteWarningMessage",t.displayName),app.localize("AreYouSure"),function(i){i&&n.deleteEdition({id:t.id}).done(function(){u();abp.notify.success(app.localize("SuccessfullyDeleted"))})})}function u(){r.ajax.reload()}var f=$("#EditionsTable"),n=abp.services.app.edition,t={create:abp.auth.hasPermission("Pages.Editions.Create"),edit:abp.auth.hasPermission("Pages.Editions.Edit"),"delete":abp.auth.hasPermission("Pages.Editions.Delete")},i=new app.ModalManager({viewUrl:abp.appPath+"AppAreaName/Editions/CreateOrEditModal",scriptUrl:abp.appPath+"view-resources/Areas/AppAreaName/Views/Editions/_CreateOrEditModal.js",modalClass:"CreateOrEditEditionModal"}),r;$("#CreateNewEditionButton").click(function(){i.open()});abp.event.on("app.createOrEditEditionModalSaved",function(){u()});r=f.DataTable({paging:!1,listAction:{ajaxFunction:n.getEditions},columnDefs:[{className:"control responsive",orderable:!1,render:function(){return""},targets:0},{targets:1,data:null,orderable:!1,autoWidth:!1,defaultContent:"",rowAction:{text:'<i class="fa fa-cog"><\/i> '+app.localize("Actions")+' <span class="caret"><\/span>',items:[{text:app.localize("Edit"),visible:function(){return t.edit},action:function(n){i.open({id:n.record.id})}},{text:app.localize("Delete"),visible:function(){return t.delete},action:function(n){e(n.record)}}]}},{targets:2,data:"displayName"},{targets:3,data:"creationTime",render:function(n){return moment(n).format("L")}}]})})})();